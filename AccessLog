#extrair o recurso acessado pelo usu√°rio no log de um site e gravar em uma lista, depois por cada item da lista em 1 linha em um arquivo .txt
arquivo = open("access.log", encoding = "utf-8", errors = "ignore")
log = arquivo.read()
arquivo.close()

recursos = []
item = ""
estado = 1

for c in log:
    if estado == 1:
        if c != "]":
            estado = 1
        else:
            estado = 2
    elif estado == 2:
        if c != " ":
            estado = 2
        else:
            estado = 3
    elif estado == 3:
        if c!= " ":
            estado = 3
        else:
            estado = 4
    elif estado == 4:
        if c != " ":
            item = item + c
            estado = 4
        else:
            recursos.append(item)
            item = ""
            estado = 1
print(recursos)
arq = open("recursos.txt", "w")

for dado in recursos:
    arq.write(dado + "\n")

arq.close()
